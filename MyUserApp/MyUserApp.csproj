<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net8.0-windows</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <UseWPF>true</UseWPF>

    <!-- 
      This is the critical addition. It explicitly tells the project to build
      for Any CPU, which is the most compatible setting for libraries with
      native components like SkiaSharp. This resolves conflicts with the
      Visual Studio XAML designer's own architecture.
    -->
    <PlatformTarget>AnyCPU</PlatformTarget>

  </PropertyGroup>

  <ItemGroup>
    <Compile Remove="Effects\**" />
    <EmbeddedResource Remove="Effects\**" />
    <None Remove="Effects\**" />
    <Page Remove="Effects\**" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="Assets\placeholder.png" />
  </ItemGroup>

  <!-- This is the correct package reference for modern .NET WPF projects -->
  <ItemGroup>
    <PackageReference Include="SkiaSharp.Views.WPF" Version="2.88.8" />
  </ItemGroup>

  <ItemGroup>
    <Resource Include="Assets\placeholder.png" />
  </ItemGroup>

</Project>